{
    "projectName": "bigfans-cloud",
    "repositories": [
        {
            "gitUrl": "https://gitee.com/dafanshudl/bigfans-cloud.git",
            "arcs":[
                {
                    "version": {
                        "sha": "5241351c7709f9428b0f1ce7c95e6202d3b88b9b"
                    },
                    "modules": [
                        {
                            "path": "bigfans-cloud-service-notification",
                            "language": "Java",
                            "packages": [
                                {
                                    "name": "com.bigfans.notificationservice",
                                    "dependency": [
                                        "com.bigfans.framework",
                                        "com.bigfans.framework.kafka"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.notificationservice.config",
                                    "dependency": [
                                        "com.bigfans.framework.cache",
                                        "com.bigfans.framework.dao",
                                        "com.bigfans.framework.event",
                                        "com.bigfans.framework.kafka",
                                        "com.bigfans.framework.plugins",
                                        "com.bigfans.framework.redis"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.notificationservice.listener",
                                    "dependency": [
                                        "com.bigfans.model.event.notification",
                                        "com.bigfans.model.event.order",
                                        "com.bigfans.model.event.payment",
                                        "com.bigfans.model.event.shipping",
                                        "com.bigfans.framework.kafka",
                                        "com.bigfans.framework.plugins"
                                    ]
                                }
                            ]
                        },
                        {
                            "path": "bigfans-cloud-service-shipping",
                            "language": "Java",
                            "packages": [
                                {
                                    "name": "com.bigfans.shippingservice",
                                    "dependency": [
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.api.clients",
                                    "dependency": [
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.framework.utils",
                                        "com.bigfans.framework.web"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.config",
                                    "dependency": [
                                        "com.bigfans.framework.cache",
                                        "com.bigfans.framework.dao",
                                        "com.bigfans.framework.event",
                                        "com.bigfans.framework.kafka",
                                        "com.bigfans.framework.redis"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.dao",
                                    "dependency": [
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.framework.dao"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.dao.impl",
                                    "dependency": [
                                        "com.bigfans.shippingservice.dao",
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.framework.dao"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.listener",
                                    "dependency": [
                                        "com.bigfans.model.event.payment",
                                        "com.bigfans.shippingservice.api.clients",
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.shippingservice.service",
                                        "com.bigfans.framework.dao",
                                        "com.bigfans.framework.kafka"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.model",
                                    "dependency": [
                                        "com.bigfans.shippingservice.model.entity"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.model.entity",
                                    "dependency": [
                                        "com.bigfans.framework.model"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.service",
                                    "dependency": [
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.framework.dao"
                                    ]
                                },
                                {
                                    "name": "com.bigfans.shippingservice.service.impl",
                                    "dependency": [
                                        "com.bigfans.shippingservice.dao",
                                        "com.bigfans.shippingservice.model",
                                        "com.bigfans.shippingservice.service",
                                        "com.bigfans.framework.dao"
                                    ]
                                }
                            ]
                        }
                    ],
                    "microservices": [
                        {
                            "name": "bigfans-cloud-service-notification",
                            "path": "bigfans-cloud-service-notification",
                            "subscribe":[
                                {
                                    "name": "OrderCreatedEvent",
                                    "filePaths": [
                                        "bigfans-cloud-service-notification/src/main/java/com/bigfans/notificationservice/listener/OrderListener.java"
                                    ]
                                },
                                {
                                    "name": "OrderPaidEvent",
                                    "filePaths": [
                                        "bigfans-cloud-service-notification/src/main/java/com/bigfans/notificationservice/listener/OrderListener.java"
                                    ]
                                },
                                {
                                    "name": "ShippingCreatedEvent",
                                    "filePaths": [
                                        "bigfans-cloud-service-notification/src/main/java/com/bigfans/notificationservice/listener/ShippingListener.java"
                                    ]
                                },
                                {
                                    "name": "RequestVCodeEvent",
                                    "filePaths": [
                                        "bigfans-cloud-service-notification/src/main/java/com/bigfans/notificationservice/listener/UserListener.java"
                                    ]
                                }
                            ]
                        },
                        {
                            "name": "bigfans-cloud-service-shipping",
                            "path": "bigfans-cloud-service-shipping",
                            "call": [
                                {
                                    "targetMicroservices": "bigfans-cloud-service-order",
                                    "interfaceName": "GET:/order-service/orders/{id}",
                                    "positions": [
                                        "bigfans-cloud-service-shipping/src/main/java/com/bigfans/shippingservice/api/clients/OrderServiceClient.java" 
                                    ]
                                }
                            ],
                            "subscribe": [
                                {
                                    "name": "OrderPaidEvent",
                                    "filePaths": [
                                        "bigfans-cloud-service-shipping/src/main/java/com/bigfans/shippingservice/listener/OrderListener.java"
                                    ]
                                }
                            ]
                        }
                    ],
                    "topics": [
                        {
                            "name": "OrderCreatedEvent",
                            "filePaths": [
                                "bigfans-cloud-base/src/main/java/com/bigfans/model/event/order/OrderCreatedEvent.java"
                            ],
                            "inputParamStruct": {
                                "orderId": {
                                    "type": "Basic",
                                    "name": "String"
                                },
                            }
                        },
                        {
                            "name": "OrderPaidEvent",
                            "filePaths": [
                                "bigfans-cloud-base/src/main/java/com/bigfans/model/event/payment/OrderPaidEvent.java"
                            ],
                            "inputParamStruct": {
                                "orderId": {
                                    "type": "Basic",
                                    "name": "String"
                                },
                            }
                        },
                        {
                            "name": "ShippingCreatedEvent",
                            "filePaths": [
                                "bigfans-cloud-base/src/main/java/com/bigfans/model/event/shipping/ShippingCreatedEvent.java"
                            ],
                            "inputParamStruct": {
                                "id": {
                                    "type": "Basic",
                                    "name": "String"
                                }
                            }
                        },
                        {
                            "name": "RequestVCodeEvent",
                            "filePaths": [
                                "bigfans-cloud-base/src/main/java/com/bigfans/model/event/notification/RequestVCodeEvent.java"
                            ],
                            "inputParamStruct": {
                                "mobile": {
                                    "type": "Basic",
                                    "name": "String"
                                },
                                "code": {
                                    "type": "Basic",
                                    "name": "String"
                                }
                            }
                        }
                    ]
                }
            ]
        }
    ]
}